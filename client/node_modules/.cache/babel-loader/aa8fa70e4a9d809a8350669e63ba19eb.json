{"ast":null,"code":"var _jsxFileName = \"/home/vicky/Desktop/intern/comment_system/backend/client/src/components/register-user.component.js\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport cogoToast from 'cogo-toast';\nexport default class RegisterUser extends Component {\n  constructor(props) {\n    super(props);\n    this.onChangeUsername = this.onChangeUsername.bind(this);\n    this.onChangeFirstName = this.onChangeFirstName.bind(this);\n    this.onChangeLastName = this.onChangeLastName.bind(this);\n    this.onChangePassword = this.onChangePassword.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n    this.state = {\n      username: '',\n      firstName: '',\n      lastName: '',\n      password: ''\n    };\n  }\n\n  onChangeUsername(e) {\n    this.setState({\n      username: e.target.value\n    });\n  }\n\n  onChangeFirstName(e) {\n    this.setState({\n      firstName: e.target.value\n    });\n  }\n\n  onChangeLastName(e) {\n    this.setState({\n      lastName: e.target.value\n    });\n  }\n\n  onChangePassword(e) {\n    this.setState({\n      password: e.target.value\n    });\n  }\n\n  onSubmit(e) {\n    e.preventDefault();\n    const user = {\n      username: this.state.username,\n      firstName: this.state.firstName,\n      lastName: this.state.lastName,\n      hash: this.state.password\n    };\n    axios.post('http://localhost:5000/api/users/register', user).then(res => {\n      const authData = {\n        username: this.state.username,\n        password: this.state.password\n      };\n      axios.post('http://localhost:5000/api/users/login', authData).then(res => {\n        console.log(res.headers['auth-header']);\n        sessionStorage.setItem(\"jwt-token\", res.headers['auth-header']);\n        cogoToast.success('Logged in successfully!', {\n          hideAfter: 3\n        }).then(() => window.location = '/');\n      }).catch(err => {});\n      cogoToast.success('Welcome to the family!', {\n        hideAfter: 3\n      }).then(() => window.location = '/');\n    }).catch(err => console.log(err));\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 11\n      }\n    }, \"Register\"), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.onSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      required: true,\n      value: this.state.username,\n      onChange: this.onChangeUsername,\n      placeholder: \"Username\",\n      className: \"form-control\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group form-inline\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      required: true,\n      value: this.state.firstName,\n      onChange: this.onChangeFirstName,\n      placeholder: \"First Name\",\n      className: \"form-control\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      required: true,\n      value: this.state.lastName,\n      onChange: this.onChangeLastName,\n      placeholder: \"Last Name\",\n      className: \"form-control\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      required: true,\n      value: this.state.password,\n      onChange: this.onChangePassword,\n      minLength: \"8\",\n      placeholder: \"Password\",\n      className: \"form-control\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      align: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"submit\",\n      className: \"btn btn-dark\",\n      value: \"Register\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 17\n      }\n    }))));\n  }\n\n}","map":{"version":3,"sources":["/home/vicky/Desktop/intern/comment_system/backend/client/src/components/register-user.component.js"],"names":["React","Component","axios","cogoToast","RegisterUser","constructor","props","onChangeUsername","bind","onChangeFirstName","onChangeLastName","onChangePassword","onSubmit","state","username","firstName","lastName","password","e","setState","target","value","preventDefault","user","hash","post","then","res","authData","console","log","headers","sessionStorage","setItem","success","hideAfter","window","location","catch","err","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\"\nimport axios from \"axios\"\nimport cogoToast from 'cogo-toast';\n\n\nexport default class RegisterUser extends Component {\n\n    constructor(props){\n        super(props);\n       \n        this.onChangeUsername = this.onChangeUsername.bind(this);\n        this.onChangeFirstName = this.onChangeFirstName.bind(this);\n        this.onChangeLastName = this.onChangeLastName.bind(this);\n        this.onChangePassword = this.onChangePassword.bind(this);\n\n        this.onSubmit = this.onSubmit.bind(this);\n    \n        this.state = {\n            username: '',\n            firstName: '',\n            lastName: '',\n            password: ''\n        }\n      }\n      onChangeUsername(e){\n          this.setState({\n              username : e.target.value\n          });\n      }\n\n      onChangeFirstName(e){\n        this.setState({\n            firstName : e.target.value\n        });\n      }\n    \n      onChangeLastName(e){\n        this.setState({\n            lastName : e.target.value\n        });\n      }\n      \n      onChangePassword(e){\n        this.setState({\n            password : e.target.value\n        });\n      }\n    onSubmit(e){\n        e.preventDefault();\n        const user = {\n            username : this.state.username, \n            firstName : this.state.firstName,\n            lastName : this.state.lastName,\n            hash : this.state.password\n        }\n        axios.post('http://localhost:5000/api/users/register', user)\n            .then(res => {\n              const authData = {\n                username : this.state.username,\n                password : this.state.password\n            }\n              axios.post('http://localhost:5000/api/users/login', authData)\n              .then(res => {\n                console.log(res.headers['auth-header']);\n                sessionStorage.setItem(\"jwt-token\",res.headers['auth-header']);\n                cogoToast.success('Logged in successfully!', { hideAfter : 3 })\n                    .then(() => window.location = '/')\n              })\n              .catch(err => {\n\n              });\n              cogoToast.success('Welcome to the family!', { hideAfter : 3 })\n                .then(() => window.location = '/')\n              })\n            .catch(err => console.log(err));\n        \n  \n    }\n\n      render() {\n        return (\n          <div className=\"container\">\n          <h3>Register</h3>\n          <form onSubmit={this.onSubmit} >\n              <div className=\"form-group\">\n                <input type=\"text\"\n                    required\n                    value={this.state.username}\n                    onChange={this.onChangeUsername}\n                    placeholder=\"Username\"\n                    className=\"form-control\"\n                    >    \n                </input>\n              </div>\n              <div className=\"form-group form-inline\">\n                <input type=\"text\"\n                    required\n                    value={this.state.firstName}\n                    onChange={this.onChangeFirstName}\n                    placeholder=\"First Name\"\n                    className=\"form-control\"\n                    >    \n                </input>\n                <input type=\"text\"\n                    required\n                    value={this.state.lastName}\n                    onChange={this.onChangeLastName}\n                    placeholder=\"Last Name\"\n                    className=\"form-control\"\n                    >    \n                </input>\n              </div>\n              <div className=\"form-group\">\n                <input type=\"text\"\n                    required\n                    value={this.state.password}\n                    onChange={this.onChangePassword}\n                    minLength = \"8\"\n                    placeholder=\"Password\"\n                    className=\"form-control\"\n                    >    \n                </input>\n              </div>\n              <div className=\"form-group\" align=\"right\">\n                <input type=\"submit\"\n                    className=\"btn btn-dark\"\n                    value=\"Register\">\n                </input>\n              </div>\n          </form>\n          </div>\n        );\n      }\n\n}"]},"metadata":{},"sourceType":"module"}